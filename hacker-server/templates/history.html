{% extends "base.html" %}

{% block title %} History {% endblock %}

{% block contents %}
<div class="form-inline">
    <label for="history-search"> Search through history: </label>
    <input id="history-search" type="text" class="form-control search-tables" placeholder="Search for a history">
</div>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th scope="col"> # </th>
            <th scope="col"> Url </th>
            <th scope="col"> Last Visited Data/Time </th>
        </tr>
    </thead>
    <tbody id="history-table">
        {% for history in history %}
        <tr class="wrap-word">
            <th scope="row" width="10%"> {{ loop.index }} </th>
            <td width="65%"> {{ history[1] }}</td>
            <td width="25%"> {{ history[2] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block scripts %}
<script>
    $(document).ready(function () {
        $("#history-search").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#history-table tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
    });
</script>
{% endblock %}